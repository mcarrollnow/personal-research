/* Mobile Optimization Fixes */
/* Addresses common issues found in mobile responsiveness testing */

/* Ensure minimum touch target sizes on mobile */
@media (max-width: 768px) {
  /* Buttons and interactive elements */
  button,
  [role="button"],
  input[type="button"],
  input[type="submit"],
  .btn {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 8px 16px !important;
    font-size: 16px !important;
    touch-action: manipulation !important;
    user-select: none !important;
  }

  /* Sidebar trigger specifically */
  [data-sidebar="trigger"],
  .sidebar-trigger {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 8px !important;
    touch-action: manipulation !important;
    z-index: 60 !important;
    position: relative !important;
  }

  /* Links and clickable elements */
  a,
  [role="link"] {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    padding: 8px;
  }

  /* Form inputs */
  input,
  select,
  textarea {
    min-height: 44px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
    padding: 12px !important;
  }

  /* Text elements - ensure readable font sizes */
  p, span, div, li {
    font-size: 16px !important;
    line-height: 1.5 !important;
  }

  /* Small text elements */
  .text-xs,
  .text-sm,
  small {
    font-size: 14px !important; /* Minimum readable size */
  }

  /* Headings */
  h1 { font-size: 28px !important; }
  h2 { font-size: 24px !important; }
  h3 { font-size: 20px !important; }
  h4 { font-size: 18px !important; }
  h5 { font-size: 16px !important; }
  h6 { font-size: 16px !important; }

  /* Ensure no horizontal scrolling */
  * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Container constraints */
  .container,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl {
    max-width: 100% !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
  }

  /* Grid adjustments */
  .grid-cols-2,
  .grid-cols-3,
  .grid-cols-4,
  .md\\:grid-cols-2,
  .md\\:grid-cols-3,
  .lg\\:grid-cols-3 {
    grid-template-columns: 1fr !important;
  }

  /* Spacing adjustments */
  .gap-6 { gap: 16px !important; }
  .gap-4 { gap: 12px !important; }
  .gap-2 { gap: 8px !important; }

  /* Card and component spacing */
  .p-6 { padding: 16px !important; }
  .p-4 { padding: 12px !important; }
  .p-2 { padding: 8px !important; }

  /* Margin adjustments */
  .m-6 { margin: 16px !important; }
  .m-4 { margin: 12px !important; }
  .mb-6 { margin-bottom: 16px !important; }
  .mb-4 { margin-bottom: 12px !important; }

  /* Badge and small component adjustments */
  .badge,
  .chip,
  [class*="badge"] {
    font-size: 14px !important;
    padding: 6px 12px !important;
    min-height: 32px !important;
  }

  /* Icon adjustments */
  .icon,
  svg {
    min-width: 24px !important;
    min-height: 24px !important;
  }

  /* Table responsiveness */
  table {
    display: block !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
  }

  /* Navigation adjustments */
  nav {
    padding: 12px 16px !important;
  }

  nav a {
    padding: 12px 16px !important;
    min-height: 48px !important;
  }

  /* Mobile header specific fixes */
  .mobile-header {
    touch-action: manipulation !important;
  }

  .mobile-header button {
    min-height: 44px !important;
    min-width: 44px !important;
    touch-action: manipulation !important;
    z-index: 60 !important;
  }

  /* Modal and dialog adjustments */
  .modal,
  .dialog,
  [role="dialog"] {
    margin: 16px !important;
    max-width: calc(100vw - 32px) !important;
    max-height: calc(100vh - 32px) !important;
  }

  /* Dropdown and menu adjustments */
  .dropdown-menu,
  .menu {
    max-width: calc(100vw - 32px) !important;
  }

  /* Chat and messaging specific */
  .message {
    max-width: 85% !important;
    font-size: 16px !important;
    padding: 12px 16px !important;
  }

  .message-input {
    min-height: 48px !important;
    font-size: 16px !important;
    padding: 12px 16px !important;
  }

  /* Admin interface adjustments */
  .admin-sidebar {
    width: 100% !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 50 !important;
    transform: translateX(-100%) !important;
    transition: transform 0.3s ease !important;
  }

  .admin-sidebar.open {
    transform: translateX(0) !important;
  }

  /* Bottom navigation */
  .bottom-nav {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    background: white !important;
    border-top: 1px solid #e5e7eb !important;
    padding: 8px !important;
    z-index: 40 !important;
  }

  .bottom-nav button {
    min-height: 48px !important;
    min-width: 48px !important;
    font-size: 12px !important;
  }
}

/* Touch device specific optimizations */
@media (pointer: coarse) {
  /* Increase touch targets for all touch devices */
  button,
  [role="button"],
  a,
  input,
  select,
  textarea {
    min-height: 44px !important;
    min-width: 44px !important;
  }

  /* Add more spacing between interactive elements */
  button + button,
  a + a,
  [role="button"] + [role="button"] {
    margin-left: 8px !important;
  }

  /* Improve hover states for touch */
  button:hover,
  [role="button"]:hover,
  a:hover {
    transform: scale(1.02) !important;
    transition: transform 0.1s ease !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  button,
  [role="button"],
  a {
    border: 2px solid currentColor !important;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Focus improvements for accessibility */
button:focus,
[role="button"]:focus,
a:focus,
input:focus,
select:focus,
textarea:focus {
  outline: 2px solid #3b82f6 !important;
  outline-offset: 2px !important;
}
